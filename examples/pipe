fn map(f: 'a -> 'b, m: Maybe('a)) -> Maybe('b) {
  match m {
    Maybe::Just(n) => Maybe::Just(f(n)),
    Maybe::None    => Maybe::None,
  }
}

fn or_else(fallback: 'a, m: Maybe('a)) -> 'a {
  match m {
    Maybe::Just(a) => a,
    Maybe::None    => fallback,
  }
}

#[entry]
fn main() -> () {
  Maybe::Just(123)
    |> map(::Fmt::int)
    |> or_else("nothing")
    |> ::Io::println;
}
